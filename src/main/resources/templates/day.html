<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<body>
<main layout:fragment="content">
    <div class="cal-header">
        <a th:href="${prevUrl}" class="nav-arrow" aria-label="Previous day">&larr;</a>
        <h2 th:text="${title}"></h2>
        <a th:href="${nextUrl}" class="nav-arrow" aria-label="Next day">&rarr;</a>
    </div>

    <div class="day-header-badge" th:classappend="${isToday} ? 'is-today'">
        <span class="day-name" th:text="${#temporals.format(date, 'EEE')}"></span>
        <span class="day-number" th:text="${date.dayOfMonth}"></span>
    </div>

    <div class="day-grid">
        <div th:each="hour : ${hours}"
             th:classappend="${isToday and hour.hour() == currentHour} ? 'current-hour'"
             class="day-row">
            <div class="hour-label" th:text="${hour.label()}"></div>
            <div class="time-slot">
                <th:block th:each="event : ${events}">
                    <div th:if="${event.startTime != null and event.startTime.hour == hour.hour()}"
                         class="event-block"
                         th:style="'background:' + ${event.color}"
                         th:title="${event.description}">
                        <span class="event-block-title" th:text="${event.title}"></span>
                        <span class="event-block-time" th:text="${event.timeRange}"></span>
                    </div>
                </th:block>
            </div>
        </div>
    </div>
</main>
</body>
</html>
