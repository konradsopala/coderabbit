{% extends "base.html" %}

{% block content %}
<div class="cal-header">
    <a href="/week/{{ prev_year }}/{{ prev_week }}" class="nav-arrow">&lsaquo;</a>
    <h2>{{ week_label }}</h2>
    <a href="/week/{{ next_year }}/{{ next_week }}" class="nav-arrow">&rsaquo;</a>
</div>

<table class="week-grid">
    <thead>
        <tr>
            <th></th>
            {% for date in dates %}
            <th class="{% if date == today %}today-col{% endif %}">
                <span class="week-day-name">{{ date.strftime('%a') }}</span>
                <a href="/day/{{ date.year }}/{{ date.month }}/{{ date.day }}" class="week-day-num">{{ date.day }}</a>
            </th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for h, label in hours %}
        <tr class="hour-row">
            <td class="hour-label">{{ label }}</td>
            {% for date in dates %}
            <td class="time-slot{% if date == today %} today-col{% endif %}{% if date == today and h == now_hour %} current-hour{% endif %}"></td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
