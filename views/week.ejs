<%- include('partials/header') %>
<div class="cal-header">
    <a href="/week/<%= prevYear %>/<%= prevWeek %>" class="nav-arrow" aria-label="Previous week">&lsaquo;</a>
    <h2><%= title %></h2>
    <a href="/week/<%= nextYear %>/<%= nextWeek %>" class="nav-arrow" aria-label="Next week">&rsaquo;</a>
</div>
<table class="week-grid">
    <thead>
        <tr>
            <th></th>
            <% dates.forEach(function(d) { %>
                <th<%= cal.sameDay(d, today) ? ' class="today-col"' : '' %>>
                    <span class="week-day-name"><%= cal.dayAbbrev(d) %></span>
                    <a href="/day/<%= d.getFullYear() %>/<%= d.getMonth() + 1 %>/<%= d.getDate() %>"
                       class="week-day-num"><%= d.getDate() %></a>
                </th>
            <% }); %>
        </tr>
    </thead>
    <tbody>
        <% hours.forEach(function(h) { %>
            <tr class="hour-row">
                <td class="hour-label"><%= h.label %></td>
                <% dates.forEach(function(d) { %>
                    <td class="time-slot<%= cal.sameDay(d, today) ? ' today-col' : '' %><%= (cal.sameDay(d, today) && h.hour === nowHour) ? ' current-hour' : '' %>"></td>
                <% }); %>
            </tr>
        <% }); %>
    </tbody>
</table>
<%- include('partials/footer') %>
